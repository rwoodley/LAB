<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Mission 23</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				font-family:Monospace;
				font-size:13px;
				text-align:center;
                background: #bfd1e5;
				margin: 0px;
			}
            .gauges {
                margin: 5px;
                border: 2px solid;
                border-color: #ff0000;
                width: 300px;
                height: 300px;
                background: #00ff00;
            }
            #leftPanel {
                border-spacing: 0px;
                margin: 0px;
                background: blue;
/*                width: 600px;
                height: 600px;
*/
            }
            #mainPanel {
                border-spacing: 0px;
                margin: 0px;
                background: yellow;
                width: 2000px;
                height: 1200px;
            }
                img {
                    pointer-events: none;       /* prevent ipad from show 'save image'pop-up */
                       -webkit-user-select:none;
                }
    </style>
    <script src="lib/jquery-1.11.2.min.js"></script>
    <script src="lib/chroma.min.js"></script>
    <script src="r71/three.min.js"></script>
    <script src="r71/OrbitControls.js"></script>
    <script src="r71/Detector.js"></script>
    <script src="math.js"></script>
    <script src="utils.js"></script>
    <script src="TextPanel.js"></script>
    <script src="MainScene.js"></script>
    <script src="guages.js"></script>
    <script src="Locator.js"></script>
    <script src="Ship.js"></script>
    <script src="RandomBroadcaster.js"></script>
    <script>
        $(document).ready(function() {
            WireUp();
        });
        function WireUp() {
            var locator = new Locator();
            //locator.addService('Ship', new RandomBroadcaster(locator));
            //locator.addService('RandomBroadcaster', new RandomBroadcaster(locator));
            //var textPanel = new TextPanel(locator, document.getElementById('leftPanel'));

            var ship = new Ship(locator);
            locator.addService('Ship', ship);

            rightPanel = new MainScene(
                document.getElementById('mainPanel'),
                document.getElementById('mainCanvas'),
                ship.getCamera()
                                 );
            var guage1 = new CameraGuage(document.getElementById('cameraGuage'), locator);
            
            $(document).keydown(function(e){
                ship.updateOrientation(e);  // for now. later make it a service.
            });
        }
    </script>
	</head>
	<body>
                     <div id="leftPanel" >
                    </div>
                   <div id="cameraGuage" class="gauges" style="position: fixed; top: 20px; left: 20px;  " >
                     </div>
                    <div id="mainPanel">
                            <canvas id="mainCanvas" />
                    </div>
        </script>
	</body>
</html>
